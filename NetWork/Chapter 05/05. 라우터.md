## 📕 Chapter 05 네트워크 계층(IP)
### 📙 05 라우터
</br>

💡 라우터란?
<p align="center"><img src="https://user-images.githubusercontent.com/45066381/154037604-667d8704-f700-40cc-9759-5845a0165ba1.png" width="600" height="400"/></p>
    
      스위치에 연결된 모든 컴퓨터는 같은 네트워크에 속한다. 이렇게 허브와 스위치는 네트워크 분할이 불가능
      라우터를 사용하여 네트워크를 분할한다.
      
      다른 네트워크에 있는 컴퓨터로 데이터를 전송하려면 라우터의 IP주소(192.168.35.1)를 설정해야 한다. 
      = 게이트웨이, 네트워크의 출입구를 설정하는 과정
</br>

💡 라우팅 테이블

    다른 네트워크로 데이터를 전송할 경우 라우팅의 경로 정보를 바탕으로 최적의 경로로 데이터 전송
    -> 라우터의 라우팅 테이블의 경로 정보가 저장되어 있음
    
    라우터 간에 정보를 교환하기 위한 프로토콜이 라우팅 프로토콜, 대표적으로 RIP, OSPF(동적 라우팅 기법)가 있다.
    
    라우팅 데이블이 관리자에 의해 유지/관리되면 정적 라우팅, 라우팅 프로토콜에 의해 유지/관리되면 동적 라우팅
    
    
</br>

💡 라우팅 프로토콜

    AS(Autonomous System)란 일정 규모의 한 네트워크를 의미, 같은 관리하제에 있는 라우터 집합을 말한다.
    
    IGP(Interior Gateway Protocol)은 AS 내에서 라우팅을 담당하는 프로토콜 -> RIP, OSPF 등이 이에 속함
    EGP(Exterior Gatewat Protocol)은 서로 다른 AS 사이에서 사용하는 프로토콜 -> BGP, EGP 등이 이에 속함
</br>

💡 RIP 프로토콜

    Hop count : 목적지까지의 거리를 위해 측정, 거치는 게이트웨이의 수를 count, 최대 15개
    Distance Vector : 각각의 라우터는 일정한 주기로 인접한 라우터에 라우팅 정보 제공
                      변화가 없을 경우에도 계속해서 제공 -> 브로드캐스팅 방식
                      
    => 즉, Hop count를 파악하여 라우팅하는 프로토콜
       라우팅하는 Hop 카운트가(네트워크 속도 상관 X, 비효율적일 수 있음) 가장 적은 경로 선택, 라우팅 테이블에 인접 라우터 정보 저장
</br>

💡 OSPF 프로토콜

    최단경로 우선 프로토콜, 최소 cost(시간) 경로를 최적 라우팅 경로로 결정한다.
    링크 상태 변화가 있을시에만 즉각적으로 Flooding 하고, 한 라우터가 목적지까지의 정보를 모두 알고있다.
</br>

💡 라우팅 과정

     1. 라우터는 패킷을 수신하면 헤더의 IP 주소를 확인 서브넷 마스크(네트워크 ID가 모두 1인 주소)와 논리합을 계산하여 네트워크 주소 확인
     2. 네트워크 주소를 라우팅 테이블에서 검색
        -> 라우팅 테이블에는 수신지의 네트워크와 서브넷 마스크, 다음 단계의 중계 라우터 등의 정보가 기술되어 있다.
     3. 수신 경로를 확인한 후 패킷의 헤더에서 라이프 타임 값 -1을 해준 후 검사합을 다시 계산하여 데이터 링크 계층의 헤더를 교체
        -> 데이터 링크(프레임)의 헤더에는 이전 송/수신지의 MAC 주소가 저장되어 있음(노드를 거칠때 마다 매번 변경되어야 함)
     4. 라우터나 L3 스위치가 위 과정 반복하면서 다음 네트워크로 중계
